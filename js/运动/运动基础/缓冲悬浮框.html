<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>右侧悬浮框</title>
	<style type="text/css">
	#div1{float:right;width: 100px;height: 150px;background-color: red;position: absolute;right: 0;}
	</style>
</head>
<body style="height:2000px"><!-- 为了看出滚动效果，要给body一个高 -->
	<div id="div1"></div>
<script type="text/javascript">
window.onscroll = function(){
	var div = document.getElementById("div1");
	var scrollTop = document.documentElement.scrollTop||document.body.scrollTop;

	//div.style.top = document.documentElement.clientHeight - div.offsetHeight + scrollTop + "px";//页面可视区高度减去div的高度算出来的是可视区的高度  加上scrollTop就随着页面滚动div就跟着走
	starmove(document.documentElement.clientHeight - div.offsetHeight + scrollTop );
}
var timer = null;
function starmove(itarget){
	var div = document.getElementById("div1");
	clearInterval(timer);
	timer = setInterval(function(){
		var speed = (itarget - div.offsetTop)/4;
		speed = speed>0?Math.ceil(speed):Math.floor(speed);
		if(div.offsetTop == itarget){
			clearInterval(timer);
		}else{
			div.style.top = div.offsetTop + speed + "px";
		}
	},30);
}
</script>
</body>
</html>